<!--This is the second page of my epic website!-->

<html>
    <title> Andy's Daily Agenda </title>

    <div style = "background-image: url('light2.jpg');background-repeat: repeat;width: 100vw;min-height: 100vh;"> <!--vw = view width; vh = view height-->

    <h1 style = "text-align: center;font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-size: 40px"> Andy's Daily Agenda </h1>

    <p><a style = "color:brown;" href = "index.html">Main Page</a></p>

    <img src = "jimmytheBull.gif" style = "width:20%;margin-right:auto;margin-left:auto;display:block;"/>

    <div id = "myDIV" class = "header" style = "text-align: center;">
        <h2 style = "text-align: center;">My To Do List</h2>
        <input type = "text" id = "myInput" placeholder = "Enter Title...">
        <button onclick = "addList()" type = "button">Add</button>
      </div>
      <p id = "dateTag" style = "text-align: center;"></p>
    <div style = "text-align: center;">
      <ul id = "myUL" style = "display: inline-block;" > <!--unordered list-->
        <li>Hit the gym</li> <!--list item-->
        <li class = "checked">Pay bills</li>
        <li>Meet George</li>
        <li>Buy eggs</li>
        <li>Read a book</li>
        <li>Organize office</li>
      </ul>
    </div>
      <script> 
        function getDate() {
          let x = new Date();
          document.getElementById("dateTag").innerHTML = x;
          console.log("Hello")
          var t = setTimeout(function(){getDate()},500);
        }
      </script>
    <script>
      getDate();
    </script>
    <script>
        function addList() {
          var li = document.createElement("li");
          var inputValue = document.getElementById("myInput").value;
          var t = document.createTextNode(inputValue);
          li.appendChild(t);
          if (inputValue === '') {
          alert("You must write something!");
          } else {
          document.getElementById("myUL").appendChild(li);
          }
          document.getElementById("myInput").value = "";

        } 
    </script>

 <p>Click the button to get your coordinates.</p>

 <button onclick="getLocation()">See My Location</button>

 <p id="demo"></p>
 <div id="mapholder"></div>
 <p id="yourLocation"></p>
 <script>
 var x = document.getElementById("demo");

 function getLocation() {
  if (navigator.geolocation) {
   navigator.geolocation.getCurrentPosition(showPosition);
  } else { 
    x.innerHTML = "Geolocation is not supported by this browser.";
  }
 }

 function showPosition(position) {
  var latlon = position.coords.latitude + "," + position.coords.longitude;

  var img_url = "https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat="+position.coords.latitude+"&lon="+position.coords.longitude;
  console.log(img_url)
  var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", img_url, false ); 
    xmlHttp.send( null );
    let responseObj = JSON.parse(xmlHttp.responseText)
    console.log(responseObj.display_name)
    var x = document.getElementById("yourLocation");
    x.innerHTML = responseObj.display_name;
  document.getElementById("mapholder").innerHTML = "<img src='"+img_url+"'>"; 
 }
 </script>
 </div>

</html>

